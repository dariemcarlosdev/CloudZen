@page "/whoiam"
@using CloudZen.Services
@inject ResumeService ResumeService
@inject IJSRuntime JS
@inject NavigationManager NavigationManager

<!-- Last significant change: Added logic to scroll to Highlighted Projects section if navigated from CaseStudies.razor with ?scroll=highlighted-projects query parameter. -->
<section id="who-i-am" class="bg-white py-8">
    <div class="max-w-6xl mx-auto px-6 lg:px-8">
        <div class="text-center mb-6">
            <!-- Avatar/Photo commented out: Temporarily disabled, possibly for redesign, privacy, or to focus on textual content.-->
@*             <!-- Avatar/Photo -->
            <div class="flex justify-center mb-6">
                <img src="/images/dariem-avatar.jpg"
                     alt="Dariem C. Macias - CloudZen"
                     class="w-40 h-40 rounded-full shadow-lg object-cover border-4 border-indigo-700" />
            </div> *@
            <h2 class="text-4xl font-bold text-gray-900">Who I Am</h2>
            <p class="mt-4 text-lg text-gray-600">
                <strong>Dariem C. Macias here</strong>  - Software Engineer and Principal Consultant at <strong>CloudZen Inc. </strong>, where I turn complex business challenges into elegant, cloud-first solutions.
            </p>
            <p class="mt-4 text-lg text-gray-600">
                Over the past seven years, I’ve designed and delivered scalable, secure ASP.NET Core applications and enterprise backend systems, leveraging Azure cloud solutions and high-performance ETL pipelines. More recently, I’ve focused on AI and intelligent automation with Azure OpenAI to improve data workflows, enhance user experiences, and support smarter business decision-making. I excel at modernizing legacy platforms and integrating AI-driven capabilities, building solutions that address real business challenges while empowering teams and stakeholders.
            </p>
            <div class="flex justify-center gap-6 mt-6">
                <a href="https://www.linkedin.com/in/dariemcmacias" target="_blank" rel="noopener" class="text-indigo-700 hover:text-indigo-900 text-2xl" title="LinkedIn">
                    <i class="bi bi-linkedin"></i>
                </a>
                <a href="https://github.com/dariemcarlosdev?tab=repositories" target="_blank" rel="noopener" class="text-gray-800 hover:text-black text-2xl" title="GitHub">
                    <i class="bi bi-github"></i>
                </a>
            </div>
        </div>
        <!-- SDLC Process Panel: Interactive, Responsive, and Highlights Each Stage -->
        <SDLCProcess></SDLCProcess>
        <div class="grid md:grid-cols-2 gap-12 items-start mt-8"> <!-- Added mt-8 for top margin -->
            <!-- Left Column: Bio -->
            <div>
                <h3 class="text-2xl font-semibold text-gray-900 mb-4 text-center">My Approach</h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                    I specialize in delivering <strong><span class="font-bold text-indigo-700">measurable results</span></strong> — not just code.
                    My focus is on modernizing legacy systems, implementing DevOps practices, and unlocking insights through reporting automation and AI-driven solutions.
                </p>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Clients value working with me because I combine deep technical expertise with
                    a business-first mindset: I look for outcomes that reduce costs, improve efficiency,
                    and create long-term scalability.
                </p>
                <p class="text-gray-700 leading-relaxed">
                    While I operate independently to deliver <span class="font-bold text-indigo-700">focused results</span>, I <span class="font-bold text-indigo-700">strategically</span> expand CloudZen’s capabilities by <span class="font-bold text-indigo-700">assembling</span> and <span class="font-bold text-indigo-700">collaborating</span> specialized teams of trusted professionals when projects require <span class="font-bold text-indigo-700">broader</span> or <span class="font-bold text-indigo-700">deeper expertise</span>. This approach ensures clients benefit from both <span class="font-bold text-indigo-700">agility</span> and <span class="font-bold text-indigo-700">comprehensive solutions</span> tailored to <span class="font-bold text-indigo-700">complex business needs</span>, while continuously driving <span class="font-bold text-indigo-700">improvement</span> and <span class="font-bold text-indigo-700">innovation</span> throughout every engagement.
                </p>
            </div>

            <!-- Right Column: Results Highlights -->
            <div >
                <h3 class="text-2xl font-semibold text-gray-900 mb-4 text-center">Key Results Delivered</h3>
                <ul class="space-y-3 text-gray-700">
                    <li class="flex items-start gap-2"><i class="bi bi-clipboard-check text-indigo-600 text-xl mt-1"></i><span>Migrated legacy WebForms app → monolithic ASP.NET Core, accelerating assessment cycles by 50%.</span></li>
                    <li class="flex items-start gap-2"><i class="bi bi-clipboard-check text-indigo-600 text-xl mt-1"></i><span>Built CI/CD pipelines in Azure DevOps & GitHub Actions, cutting release cycles by 40%.</span></li>
                    <li class="flex items-start gap-2"><i class="bi bi-clipboard-check text-indigo-600 text-xl mt-1"></i><span>Automated reporting with Power BI & SSIS, reducing runtimes by 70%.</span></li>
                    <li class="flex items-start gap-2"><i class="bi bi-clipboard-check text-indigo-600 text-xl mt-1"></i><span>Integrated Azure OpenAI & Cognitive Services, reducing manual processing by 60%.</span></li>
                    <li class="flex items-start gap-2"><i class="bi bi-clipboard-check text-indigo-600 text-xl mt-1"></i><span>Optimized APIs & databases, boosting system performance by 20–25%.</span></li>
                    <li class="flex items-start gap-2"><i class="bi bi-clipboard-check text-indigo-600 text-xl mt-1"></i><span>Engineered SSIS ETL for SAP Data Ingestion, reducing job runtimes by 70% through ABAP extraction and lookup-driven deduplication.</span></li>
                </ul>

                <h3 class="text-xl font-semibold text-gray-900 mt-6 mb-4 text-center md:text-left">Core Expertise</h3>
                <div class="flex flex-wrap gap-2">
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">.NET / C#</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">OpenAI / Cognitive Services</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">Web APIs / REST</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">Azure Cloud Services</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">Azure OpenA / Cognitive Service</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">DevOps / CI/CD</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">Blazor</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">T-SQL & Databases</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">DATA Integration/ ETL Process</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">SSIS Pipeline Engineering/Automation</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">Power BI & Reporting</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">Software Architecture & Design Patterns</span>
                </div>

                <div class="mt-6 text-center md:text-left">
                    <button @onclick="DownloadResume" class="inline-block px-6 py-3 bg-indigo-600 text-white font-medium rounded-xl shadow hover:bg-indigo-700 transition">
                        📄 Download My Resume
                    </button>
                </div>
            </div>
        </div>

        <!-- Projects Section -->
        <div class="mt-20">
            <h3 id="highlighted-projects" class="text-2xl font-bold text-gray-900 mb-8 text-center">Highlighted Projects</h3>
            <p class="text-gray-600 text-center mt-2 mb-8">This project showcases how I bring together software engineering, cloud-native design, and applied AI to solve a concrete business problem—while also reflecting my ability to start from scratch, iterate quickly, and deliver production-ready systems.</p>
            <div class="flex flex-col gap-8">
                @foreach (var project in Projects)
                {
                    <div class="bg-white rounded-2xl shadow p-6 flex flex-col gap-4">
                        <div class="flex flex-col md:flex-row items-center gap-3">
                            <span class="text-xl font-semibold w-full text-center md:text-left">@project.Name</span>
                            <span class="px-3 py-1 rounded-full text-xs font-bold @GetStatusColor(project.Status) mt-1 md:mt-0">@project.Status</span>
                        </div>                        
                        <!-- Role property with glyph icon -->
                        @if (!string.IsNullOrWhiteSpace(project.Role))
                        {
                            <div class="flex items-center gap-2 text-indigo-700 text-sm">
                                <i class="bi bi-person-badge text-lg"></i>
                                <span class="font-semibold">@project.Role</span>
                            </div>
                        }
                        <p class="text-gray-700">@project.Description</p>
                        <div class="flex flex-wrap gap-2">
                            @foreach (var tech in project.TechStack)
                            {
                                <span class="px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full">@tech</span>
                            }
                        </div>
                        <!-- Challenges property with check icons -->
                        @if (project.Challenges != null && project.Challenges.Count > 0)
                        {
                            <div class="mt-1">
                                <span class="text-xs text-gray-700 font-semibold">Main Challenges:</span>
                                <div class="flex flex-wrap gap-3 text-xs text-gray-500 mt-1">
                                    @foreach (var challenge in project.Challenges)
                                    {
                                        <span class="flex items-center gap-2 text-gray-700 text-xs">
                                            <i class="bi bi-lightning text-green-600"></i>
                                            <span>@challenge</span>
                                        </span>
                                    }
                                </div>
                            </div>
                        }
                        @if (project.Results != null && project.Results.Count > 0)
                        {
                            <div class="mt-2">
                                <span class="text-xs text-gray-700 font-semibold">Outcomes:</span>
                                <div class="flex flex-wrap gap-3 text-xs text-gray-500 mt-1">
                                    @foreach (var result in project.Results)
                                    {
                                        <span class="flex items-center gap-1 bg-gray-100 rounded-full px-1 py-1">
                                            <i class="bi bi-award text-green-600"></i>
                                            @result
                                        </span>
                                    }
                                </div>
                            </div>
                        }
                        <div class="w-full bg-gray-100 rounded-full h-3 mt-2">
                            <div class="h-3 rounded-full @GetProgressColor(project.Progress)" style="width: @project.Progress%"></div>
                        </div>
                        <div class="text-xs text-gray-600">Progress: @project.Progress%</div>
                    </div>
                }
            </div>
        </div>
    </div>
</section>
<Footer />

@code {
    private async Task DownloadResume()
    {
        var resumeBytes = await ResumeService.DownloadResumeAsync();
        // Extract the filename from the blob URL and use it in your JS interop call for a dynamic, accurate filename.

        var uri = new Uri(ResumeService.ResumeBlobUrl);

        var fileName = System.IO.Path.GetFileName(uri.LocalPath);


        await JS.InvokeVoidAsync("saveAsFile", fileName, resumeBytes);
    }

    private List<ProjectInfo> Projects = new()
    {
        new ProjectInfo
        {
            Name = "WPBT Modernization:Scalable Assessment Services for MDCPS",
            Status = "Completed",
            Description = "Modernized WPBT Assessment Services platform for MDCPS by migrating from legacy ASP.NET Web Forms to modular ASP.NET Core architecture—enhanced scalability, security, and user experience while accelerating assessment cycles by 50%",
            TechStack = new[] { "LinQ", "T-SQL Server", "EF", "BootStrap", "ASP.NET Web-Form", ".NET Core",".NET 8", "C#" },
            Progress = 100,
            Results = new List<string>
            {
                "Streamlined assessment cycle cutting turnaround times by roughly 50%.",
                "Delivered a responsive, modular interface for principals and administrators.",
                "Enhanced traceability and precision in assessment records, minimizing errors and boosting confidence in reporting.",
                "Supported increasing teachers and program volumes without performance degradation, ensuring long-term viability.",
                "Delivered a responsive, intuitive interface for Principals and administrators, increasing productivity and satisfaction.",
                "Overcame rigid architecture and outdated UI that hindered scalability, performance, and user engagement"
            },
            Participants = new[]
            {
                new ProjectParticipant { Name = "Dariem C. Macias", ImageUrl = "/images/dariem-avatar.jpg" },
            },
            Role = "Principal Consultant / Lead Developer / Solution Architect",
            Challenges = new List<string>
            {
                "Migrating complex legacy business logic from Web Forms to ASP.NET Core.",
                "Ensuring data integrity and traceability during platform transition.",
                "Redesigning UI/UX for modern accessibility and scalability."
            }
        },
         new ProjectInfo
        {
            Name = "Data-Driven ETL Optimization for SAP Maintenance Master Data",
            Status = "Completed",
            Description = "Engineered delta-based SSIS ETL pipeline for SAP Maintenance Data, replacing full daily loads with ABAP-driven delta extraction and lookup-based deduplication.",
            TechStack = new[] { "SSIS ETL pipelines", "T-SQL Server", "EF", "LinQ", "Job Automation/Orchestration"},
            Progress = 100,
            Results = new List<string>
            {
                "Streamlined SAP Data Ingestion by 70% Runtime Reduction through Delta Processing.",
                "Resolved performance bottlenecks in the downstream Data Warehouse (DW)",
                "Scales-Out efficiently with large datasets",
                "Modular SSIS Architecture for Scalable, Audit-Compliant SAP ETL.",
                "Reinforced best practices in recursive ETL design and stakeholder-aligned architecture"
            },
            Participants = new[]
            {
                new ProjectParticipant { Name = "Dariem C. Macias", ImageUrl = "/images/dariem-avatar.jpg" },
            },
            Role = "Lead ETL Engineer / Solution Architect",
            Challenges = new List<string>
            {
                "Designing delta-based extraction logic for SAP data.",
                "Optimizing ETL for large-scale, high-volume data loads.",
                "Ensuring audit compliance and traceability in ETL workflows."
            }
        },
        new ProjectInfo
        {
            Name = "Smart Menu Optimizer - Cloud-native and AI-Powered app.",
            Status = "In Progress",
            Description = "Smart Menu Optimizer is a cloud-native and AI-powered recommendation engine designed to help restaurants owners make data-driven decisions about their menus maximizing profitability and reduce waste.",
            TechStack = new[] { 
                ".NET 8.0/9.0 SDK",
                "C#",
                "Docker",
                "Azure Functions",
                "ML.NET models",
                "AI NLP",
                "Azure Cognitive Services",
                "Azure OpenAI",
                "Power BI dashboards",
                "ASP.NET Core Web API",
                "Blazor Server",
                "PostgreSQL",
                "Azure Redis",
                "Azure Blob Storage",
                "Multi-Tenant SaaS Architecture",
                "GitHub Actions CI/CD Workflow"
            },
            Progress = 30,
            Results = new List<string>
            {
                "Increase profit margin per order by +18% through optimized menu recommendations.",
                "Reduce food waste by 22% by aligning menu offerings with real-time inventory signals.",
                "Enable automated daily menu refreshes with zero manual intervention from staff.",
                "Empower chefs and reataurant Owners and Managers with actionable insights through intuitive dashboards."
            },
            Participants = new[]
            {
                new ProjectParticipant { Name = "Dariem C. Macias", ImageUrl = "/images/dariem-avatar.jpg" }
            },
            Role = "Principal Consultant / AI Solution Architect",
            Challenges = new List<string>
            {
                "Integrating AI/ML models for real-time menu optimization.",
                "Building scalable cloud-native architecture for multi-tenant SaaS.",
                "Automating data ingestion and dashboard reporting."
            }
        },
        new ProjectInfo
        {
            Name = "VPKFILEPROCESSOR – Cloud-Enabled ETL Pipeline Modernization",
            Status = "In Progress",
            Description = "VPKFILEPROCESSOR is a cloud-native solution that modernizes ETL workflows for MDCPS by migrating SSIS pipelines from on-premise to Azure. It allows users to upload files, automate processing via Azure Data Factory, and retrieve results through a Blazor Server interface. The system’s modular microservices communicate asynchronously using Azure Event Grid, enabling scalable, secure, and fault-tolerant operations.",
            TechStack = new[] {
                ".NET 8.0 SDK",
                "ASP.NET Core (Blazor Server)",
                "Git & GitHub Actions",
                "SOLID Principles",
                "Azure Functions",
                "Azure Blob Storage",
                "Azure Data Factory",
                "Azure SQL Database",
                "Azure Key Vault",
                "Azure Event Grid",
                "Azure Monitor & Application Insights",
                "Docker",
                "CI/CD Workflow",
                "Azure Logic Apps"
            },
            Progress = 80,
            Results = new List<string>
            {
                "Designed a scalable, decoupled system using Azure Event Grid",
                "Containerized core services using Docker",
                "Delivered a responsive Blazor Server interface",
                "Implemented robust error handling and retry logic in Azure Functions",
                "Established CI/CD pipelines with GitHub Actions",
                "Enabled automated email notifications via Logic Apps",
                "Implemented reliable Azure Event Grid publishing/subscription",
                "Prepared architecture for Azure SignalR integration"
            },
            Participants = new[]
            {
                new ProjectParticipant { Name = "Dariem C. Macias", ImageUrl = "/images/dariem-avatar.jpg" }
            },
            Role = "Principal Consultant / Cloud Solution Architect",
            Challenges = new List<string>
            {
                "Migrating on-premise SSIS ETL workflows to Azure cloud.",
                "Implementing reliable event-driven microservices communication.",
                "Ensuring security and scalability for sensitive data processing."
            }
        },
        new ProjectInfo
        {
            Name = "DineJoy - Cloud and AI-Driven aplications.",
            Status = "Planning",
            Description = "DineJoy empowers restaurant owners to launch branded loyalty rewards programs without technical overhead. By blending AI-driven personalization with seamless POS/loyalty integration.it helps restaurants to Boost repeat visits through customer-centric rewards, Increase campaign effectiveness with AI personalization, Save time via auto-suggested promotions and insights,Strengthen guest relationships with tailored experiences. ",
            TechStack = new[] {
                ".NET 8.0/9.0 SDK",
                "Blazor WASM + WPA",
                "ASP.NET Core Web API",
                "C#",
                "PostgreSQL",
                "Azure ML",
                "Azure Cognitive Services",
                "Azure OpenIA",
                "Multi-Tenant SaaS Architecture",
                "Power BI",
                "Docker",
                "GitHub Actions CI/CD workflow"
            },
            Progress = 10,
            Results = new List<string>
            {
                "Boost repeat customer visits by 27% with branded loyalty programs.",
                "Improve campaign conversion rates by 35% via AI-driven personalization.",
                "Save 10+ staff hours monthly by automating promotion scheduling and recommendations.",
                "Empower owners with guest insights through AI dashboards and predictive analytics."
            },
            Participants = new[]
            {
                new ProjectParticipant { Name = "Dariem C. Macias", ImageUrl = "/images/dariem-avatar.jpg" }
            },
            Role = "Principal Consultant / Product Architect",
            Challenges = new List<string>
            {
                "Integrating AI-driven personalization with POS/loyalty systems.",
                "Designing scalable multi-tenant SaaS architecture.",
                "Automating campaign management and analytics reporting."
            }
        }
    };

    protected override void OnInitialized()
    {
        var statusOrder = new List<string> { "Completed", "In Progress", "Planning" };
        // Sort projects based on the defined status order
        Projects = Projects.OrderBy(p => statusOrder.IndexOf(p.Status)).ToList();
    }

    private string GetStatusColor(string status) => status switch
    {
        "Completed" => "bg-green-100 text-green-800",
        "In Progress" => "bg-amber-300 text-yellow-800",
        "Planning" => "bg-red-200 text-red-700",
        _ => "bg-gray-100 text-gray-800"
    };

    private string GetProgressColor(int progress) => progress switch
    {
        >= 100 => "bg-blue-400",
        >= 70 => "bg-emerald-600",
        >= 40 => "bg-yellow-400",
        _ => "bg-red-500"
    };

    private class ProjectInfo
    {
        public string Name { get; set; }
        public string Status { get; set; }
        public string Description { get; set; }
        public string[] TechStack { get; set; }
        public int Progress { get; set; }
        public List<string> Results { get; set; } = new();
        public IEnumerable<ProjectParticipant> Participants { get; set; } = [];
        public string Role { get; set; } // Your role in the project
        public List<string> Challenges { get; set; } = new(); // Main challenges for each project
    }
    private class ProjectParticipant
    {
        public string Name { get; set; }
        public string ImageUrl { get; set; }
    }

    // Last significant change: OnAfterRenderAsync checks for scroll query parameter and uses JS interop to scroll to Highlighted Projects from CaseStudies.razor.
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var uri = new Uri(NavigationManager.Uri);
            var query = System.Web.HttpUtility.ParseQueryString(uri.Query);
            var scrollTarget = query["scroll"];
            if (scrollTarget == "highlighted-projects")
            {
                await JS.InvokeVoidAsync("scrollToElementById", "highlighted-projects");
            }
        }
    }
}
