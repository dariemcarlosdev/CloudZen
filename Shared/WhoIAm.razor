@page "/whoiam"
@using CloudZen.Services
@inject ResumeService ResumeService
@inject IJSRuntime JS

<section id="who-i-am" class="bg-white py-20">
    <div class="max-w-6xl mx-auto px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold text-gray-900">Who I Am</h2>
            <p class="mt-4 text-lg text-gray-600">
                I’m <strong>Dariem C. Macias</strong>, founder and principal consultant at <strong>CloudZen Inc.</strong> .
            </p>
            <p class="mt-4 text-lg text-gray-600">
                Over the past seven years, I’ve designed and delivered scalable, secure ASP.NET Core applications and enterprise backend systems, leveraging Azure cloud solutions and high-performance ETL pipelines. More recently, I’ve focused on AI and intelligent automation with Azure OpenAI to improve data workflows, enhance user experiences, and support smarter business decision-making. I excel at modernizing legacy platforms and integrating AI-driven capabilities, building solutions that address real business challenges while empowering teams and stakeholders.
            </p>
            <div class="flex justify-center gap-6 mt-6">
                <a href="https://www.linkedin.com/in/dariemcmacias" target="_blank" rel="noopener" class="text-indigo-700 hover:text-indigo-900 text-2xl" title="LinkedIn">
                    <i class="bi bi-linkedin"></i>
                </a>
                <a href="https://github.com/dariemcarlosdev?tab=repositories" target="_blank" rel="noopener" class="text-gray-800 hover:text-black text-2xl" title="GitHub">
                    <i class="bi bi-github"></i>
                </a>
            </div>
        </div>

        <div class="grid md:grid-cols-2 gap-12 items-start">
            <!-- Left Column: Bio -->
            <div>
                <!-- Avatar/Photo -->
                <div class="flex justify-center md:justify-start mb-6">
                    <img src="/images/dariem-avatar.jpg"
                         alt="Dariem C. Macias - CloudZen"
                         class="w-40 h-40 rounded-full shadow-lg object-cover border-4 border-indigo-700" />
                </div>

                <h3 class="text-2xl font-semibold text-gray-900 mb-4">My Approach</h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                    I specialize in delivering <strong><span class="font-bold text-indigo-700">measurable results</span></strong> — not just code.
                    My focus is on modernizing legacy systems, implementing DevOps practices, and
                    unlocking insights through reporting automation and AI-driven solutions.
                </p>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Clients value working with me because I combine deep technical expertise with
                    a business-first mindset: I look for outcomes that reduce costs, improve efficiency,
                    and create long-term scalability.
                </p>
                <p class="text-gray-700 leading-relaxed">
                    While I operate independently to deliver <span class="font-bold text-indigo-700">focused results</span>, I <span class="font-bold text-indigo-700">strategically</span> expand CloudZen’s capabilities by <span class="font-bold text-indigo-700">assembling</span> and <span class="font-bold text-indigo-700">collaborating</span> specialized teams of trusted professionals when projects require <span class="font-bold text-indigo-700">broader</span> or <span class="font-bold text-indigo-700">deeper expertise</span>. This approach ensures clients benefit from both <span class="font-bold text-indigo-700">agility</span> and <span class="font-bold text-indigo-700">comprehensive solutions</span> tailored to <span class="font-bold text-indigo-700">complex business needs</span>, while continuously driving <span class="font-bold text-indigo-700">improvement</span> and <span class="font-bold text-indigo-700">innovation</span> throughout every engagement.
                </p>
            </div>

            <!-- Right Column: Results Highlights -->
            <div class="bg-gray-50 p-6 rounded-2xl shadow-md">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Key Results Delivered</h3>
                <ul class="space-y-3 text-gray-700">
                    <li class="flex items-start gap-2"><i class="bi bi-check-circle-fill text-indigo-600 text-xl mt-1"></i><span>Migrated legacy WebForms app → ASP.NET Core, improving performance by 40%.</span></li>
                    <li class="flex items-start gap-2"><i class="bi bi-check-circle-fill text-indigo-600 text-xl mt-1"></i><span>Built CI/CD pipelines in Azure DevOps & GitHub Actions, cutting release cycles by 40%.</span></li>
                    <li class="flex items-start gap-2"><i class="bi bi-check-circle-fill text-indigo-600 text-xl mt-1"></i><span>Automated reporting with Power BI & SSIS, reducing runtimes by 70%.</span></li>
                    <li class="flex items-start gap-2"><i class="bi bi-check-circle-fill text-indigo-600 text-xl mt-1"></i><span>Integrated Azure OpenAI & Cognitive Services, reducing manual processing by 60%.</span></li>
                    <li class="flex items-start gap-2"><i class="bi bi-check-circle-fill text-indigo-600 text-xl mt-1"></i><span>Optimized APIs & databases, boosting system performance by 20–25%.</span></li>
                </ul>

                <h3 class="text-xl font-semibold text-gray-900 mt-6 mb-4">Core Expertise</h3>
                <div class="flex flex-wrap gap-2">
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">.NET / C#</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">Azure Cloud</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">DevOps / CI/CD</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">Blazor</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">SQL & Databases</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">Power BI & Reporting</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">AI & Cognitive Services</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">Web APIs / REST</span>
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full">Software Architecture & Design Patterns</span>
                </div>

                <div class="mt-6">
                    <button @onclick="DownloadResume" class="inline-block px-6 py-3 bg-indigo-600 text-white font-medium rounded-xl shadow hover:bg-indigo-700 transition">
                        📄 Download My Resume
                    </button>
                </div>
            </div>
        </div>

        <!-- Projects Section -->
        <div class="mt-20">
            <h3 class="text-2xl font-bold text-gray-900 mb-8 text-center">Highlighted Projects</h3>
            <div class="flex flex-col gap-8">
                @foreach (var project in Projects)
                {
                    <div class="bg-white rounded-2xl shadow p-6 flex flex-col gap-4">
                        <div class="flex items-center gap-3">
                            <span class="text-xl font-semibold">@project.Name</span>
                            <span class="px-3 py-1 rounded-full text-xs font-bold @GetStatusColor(project.Status)">@project.Status</span>
                        </div>
                        <p class="text-gray-700">@project.Description</p>
                        <div class="flex flex-wrap gap-2">
                            @foreach (var tech in project.TechStack)
                            {
                                <span class="px-2 py-1 bg-indigo-50 text-indigo-700 text-xs rounded-full">@tech</span>
                            }
                        </div>
                        @if (project.Participants?.Count() > 0)
                        {
                            <div class="flex items-center gap-2 mt-2">
                                <span class="text-xs text-gray-500 mr-2">Participants:</span>
                                @foreach (var participant in project.Participants)
                                {
                                    <img src="@participant.ImageUrl" alt="@participant.Name" title="@participant.Name" class="w-9 h-9 rounded-full border-2 border-indigo-700 object-cover" />
                                }
                            </div>
                        }
                        @if (!string.IsNullOrEmpty(project.MoreInfo))
                        {
                            <div class="text-xs text-gray-500">@project.MoreInfo</div>
                        }
                        <div class="w-full bg-gray-100 rounded-full h-3 mt-2">
                            <div class="h-3 rounded-full @GetProgressColor(project.Progress)" style="width: @project.Progress%"></div>
                        </div>
                        <div class="text-xs text-gray-600">Progress: @project.Progress%</div>
                    </div>
                }
            </div>
        </div>
    </div>
</section>
<Footer />

@code {
    private async Task DownloadResume()
    {
        var resumeBytes = await ResumeService.DownloadResumeAsync();
        // Extract the filename from the blob URL and use it in your JS interop call for a dynamic, accurate filename.

        var uri = new Uri(ResumeService.ResumeBlobUrl);

        var fileName = System.IO.Path.GetFileName(uri.LocalPath);


        await JS.InvokeVoidAsync("saveAsFile", fileName, resumeBytes);
    }

    private List<ProjectInfo> Projects = new()
    {
        new ProjectInfo
        {
            Name = "Healthcare Modernization",
            Status = "Completed",
            Description = "Migrated a legacy healthcare platform to ASP.NET Core and Azure, improving performance and security.",
            TechStack = new[] { ".NET", "Azure", "SQL Server", "Docker", "Blazor" },
            Progress = 100,
            MoreInfo = "Reduced downtime by 70%.",
            Participants = new[]
            {
                new ProjectParticipant { Name = "Dariem C. Macias", ImageUrl = "/images/dariem-avatar.jpg" },
                new ProjectParticipant { Name = "Frank ", ImageUrl = "/images/participant-jane.jpg" }
            }
        },
        new ProjectInfo
        {
            Name = "AI Analytics Portal",
            Status = "In Progress",
            Description = "Building an AI-powered analytics dashboard using Azure OpenAI and Power BI for real-time insights.",
            TechStack = new[] { "Azure OpenAI", "Power BI", ".NET 8", "Blazor WASM" },
            Progress = 65,
            MoreInfo = "Integrating predictive analytics and natural language queries.",
            Participants = new[]
            {
                new ProjectParticipant { Name = "Dariem C. Macias", ImageUrl = "/images/dariem-avatar.jpg" },
                new ProjectParticipant { Name = "Marlitos Aleas Go-Go", ImageUrl = "/images/participant-john.jpg" }
            }
        },
        new ProjectInfo
        {
            Name = "DevOps Automation",
            Status = "Completed",
            Description = "Implemented CI/CD pipelines and infrastructure as code for a fintech client.",
            TechStack = new[] { "Azure DevOps", "GitHub Actions", "Terraform", ".NET" },
            Progress = 100,
            MoreInfo = "Release cycles cut by 40%.",
            Participants = new[]
            {
                new ProjectParticipant { Name = "Dariem C. Macias", ImageUrl = "/images/dariem-avatar.jpg" }
            }
        },
        new ProjectInfo
        {
            Name = "Legacy Migration",
            Status = "Planning",
            Description = "Preparing to migrate a large on-premise ERP system to Azure cloud.",
            TechStack = new[] { "Azure", ".NET", "SQL Server" },
            Progress = 10,
            MoreInfo = "Discovery and architecture phase.",
            Participants = new[]
            {
                new ProjectParticipant { Name = "Dariem C. Macias", ImageUrl = "/images/dariem-avatar.jpg" },
                new ProjectParticipant { Name = "Jane Doe", ImageUrl = "/images/participant-jane.jpg" },
                new ProjectParticipant { Name = "John Smith", ImageUrl = "/images/participant-john.jpg" }
            }
        }
    };

    private string GetStatusColor(string status) => status switch
    {
        "Completed" => "bg-green-100 text-green-800",
        "In Progress" => "bg-yellow-100 text-yellow-800",
        "Planning" => "bg-blue-100 text-blue-800",
        _ => "bg-gray-100 text-gray-800"
    };

    private string GetProgressColor(int progress) => progress switch
    {
        >= 100 => "bg-green-500",
        >= 70 => "bg-blue-500",
        >= 40 => "bg-yellow-400",
        _ => "bg-gray-400"
    };

    private class ProjectInfo
    {
        public string Name { get; set; }
        public string Status { get; set; }
        public string Description { get; set; }
        public string[] TechStack { get; set; }
        public int Progress { get; set; }
        public string? MoreInfo { get; set; }
        public IEnumerable<ProjectParticipant> Participants { get; set; } = [];
    }
    private class ProjectParticipant
    {
        public string Name { get; set; }
        public string ImageUrl { get; set; }
    }
}
